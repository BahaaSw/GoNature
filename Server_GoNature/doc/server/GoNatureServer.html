<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="iw">
<head>
<!-- Generated by javadoc (1.8.0_401) on Sat Mar 30 12:55:27 IDT 2024 -->
<title>GoNatureServer</title>
<meta name="date" content="2024-03-30">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GoNatureServer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":9,"i9":10,"i10":10,"i11":10,"i12":10,"i13":9,"i14":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GoNatureServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../server/ServerApplication.html" title="class in server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?server/GoNatureServer.html" target="_top">Frames</a></li>
<li><a href="GoNatureServer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">server</div>
<h2 title="Class GoNatureServer" class="title">Class GoNatureServer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../ocsf/AbstractServer.html" title="class in ocsf">ocsf.AbstractServer</a></li>
<li>
<ul class="inheritance">
<li>server.GoNatureServer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">GoNatureServer</span>
extends <a href="../ocsf/AbstractServer.html" title="class in ocsf">AbstractServer</a></pre>
<div class="block">The GoNatureServer class is the main system's server class. This class
 extends AbstractServer ocsf class, and manage all the Client-Server design.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Tamer Amer, Gal Bitton, Rabea Lahham, Bahaldeen Swied, Ron Sisso, Nadav Reubens.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.Thread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#cancelOrdersNotConfirmedWithin2Hours">cancelOrdersNotConfirmedWithin2Hours</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.Thread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#cancelTimePassedWaitingListOrders">cancelTimePassedWaitingListOrders</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../logic/ClientRequestHandler.html" title="class in logic">ClientRequestHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#clientRequestHandler">clientRequestHandler</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.Thread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#sendNotifications24HoursBefore">sendNotifications24HoursBefore</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../server/GoNatureServer.html" title="class in server">GoNatureServer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#server">server</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../gui/controller/ServerScreenController.html" title="class in gui.controller">ServerScreenController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#serverController">serverController</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#GoNatureServer-int-gui.controller.ServerScreenController-">GoNatureServer</a></span>(int&nbsp;port,
              <a href="../gui/controller/ServerScreenController.html" title="class in gui.controller">ServerScreenController</a>&nbsp;serverController)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#clearImportedData--">clearImportedData</a></span>()</code>
<div class="block">Clears all imported data from the 'users' table in the database.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#clientConnected-ocsf.ConnectionToClient-">clientConnected</a></span>(<a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client)</code>
<div class="block">This method called when new client connect to the server. add the client to
 the server table view and write to log.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#clientDisconnected-ocsf.ConnectionToClient-">clientDisconnected</a></span>(<a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client)</code>
<div class="block">This method called when a client disconnected from the server. remove the
 client from the server's table view and write to log.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#closeAllThreads--">closeAllThreads</a></span>()</code>
<div class="block">Gracefully shuts down all active background threads managed by the application.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#getServerIpAddress--">getServerIpAddress</a></span>()</code>
<div class="block">The method enumerate through the network interface eliminate local host and
 virtual machines to return the right IP;</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#handleDisconnectMsgFromClient-ocsf.ConnectionToClient-">handleDisconnectMsgFromClient</a></span>(<a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client)</code>
<div class="block">This method handle a specific String message from client for now relevant
 only for message when client disconnecting the server.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#handleMessageFromClient-java.lang.Object-ocsf.ConnectionToClient-">handleMessageFromClient</a></span>(java.lang.Object&nbsp;msg,
                       <a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client)</code>
<div class="block">This method handle the message from client and sends them to the correct
 method according to the sent Object instance.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#handleUserLogoutFromApplication-java.lang.Object-ocsf.ConnectionToClient-java.lang.String-">handleUserLogoutFromApplication</a></span>(java.lang.Object&nbsp;user,
                               <a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client,
                               java.lang.String&nbsp;clientIp)</code>
<div class="block">Handles the logout process for a user from the application.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#importUsersData--">importUsersData</a></span>()</code>
<div class="block">Imports user data from a CSV file into the 'users' table in the database.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#initializeThreadsAndStartRun--">initializeThreadsAndStartRun</a></span>()</code>
<div class="block">Initializes and starts the background threads responsible for sending notifications, cancelling unconfirmed orders,
 and managing waiting list orders based on specific time criteria.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#serverClosed--">serverClosed</a></span>()</code>
<div class="block">This method write to log screen the server has been stopped.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#serverStarted--">serverStarted</a></span>()</code>
<div class="block">This method write to log screen the server has been started.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#serverStopped--">serverStopped</a></span>()</code>
<div class="block">This method write to log screen the server has been stopped.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#startServer-jdbc.DBConnectionDetails-java.lang.Integer-gui.controller.ServerScreenController-">startServer</a></span>(<a href="../jdbc/DBConnectionDetails.html" title="class in jdbc">DBConnectionDetails</a>&nbsp;db,
           java.lang.Integer&nbsp;port,
           <a href="../gui/controller/ServerScreenController.html" title="class in gui.controller">ServerScreenController</a>&nbsp;serverController)</code>
<div class="block">This method start the server to listen on a specific port and connect to
 database via database controller.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../server/GoNatureServer.html#stopServer--">stopServer</a></span>()</code>
<div class="block">This method stop the server to listen on a specific port and close the
 server.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.ocsf.AbstractServer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;ocsf.<a href="../ocsf/AbstractServer.html" title="class in ocsf">AbstractServer</a></h3>
<code><a href="../ocsf/AbstractServer.html#clientException-ocsf.ConnectionToClient-java.lang.Throwable-">clientException</a>, <a href="../ocsf/AbstractServer.html#close--">close</a>, <a href="../ocsf/AbstractServer.html#getClientConnections--">getClientConnections</a>, <a href="../ocsf/AbstractServer.html#getNumberOfClients--">getNumberOfClients</a>, <a href="../ocsf/AbstractServer.html#getPort--">getPort</a>, <a href="../ocsf/AbstractServer.html#isListening--">isListening</a>, <a href="../ocsf/AbstractServer.html#listen--">listen</a>, <a href="../ocsf/AbstractServer.html#listeningException-java.lang.Throwable-">listeningException</a>, <a href="../ocsf/AbstractServer.html#run--">run</a>, <a href="../ocsf/AbstractServer.html#sendToAllClients-java.lang.Object-">sendToAllClients</a>, <a href="../ocsf/AbstractServer.html#setBacklog-int-">setBacklog</a>, <a href="../ocsf/AbstractServer.html#setPort-int-">setPort</a>, <a href="../ocsf/AbstractServer.html#setTimeout-int-">setTimeout</a>, <a href="../ocsf/AbstractServer.html#stopListening--">stopListening</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="server">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>server</h4>
<pre>private static&nbsp;<a href="../server/GoNatureServer.html" title="class in server">GoNatureServer</a> server</pre>
</li>
</ul>
<a name="serverController">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverController</h4>
<pre>private static&nbsp;<a href="../gui/controller/ServerScreenController.html" title="class in gui.controller">ServerScreenController</a> serverController</pre>
</li>
</ul>
<a name="clientRequestHandler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientRequestHandler</h4>
<pre>private&nbsp;<a href="../logic/ClientRequestHandler.html" title="class in logic">ClientRequestHandler</a> clientRequestHandler</pre>
</li>
</ul>
<a name="sendNotifications24HoursBefore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendNotifications24HoursBefore</h4>
<pre>private static&nbsp;java.lang.Thread sendNotifications24HoursBefore</pre>
</li>
</ul>
<a name="cancelOrdersNotConfirmedWithin2Hours">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelOrdersNotConfirmedWithin2Hours</h4>
<pre>private static&nbsp;java.lang.Thread cancelOrdersNotConfirmedWithin2Hours</pre>
</li>
</ul>
<a name="cancelTimePassedWaitingListOrders">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cancelTimePassedWaitingListOrders</h4>
<pre>private static&nbsp;java.lang.Thread cancelTimePassedWaitingListOrders</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GoNatureServer-int-gui.controller.ServerScreenController-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GoNatureServer</h4>
<pre>private&nbsp;GoNatureServer(int&nbsp;port,
                       <a href="../gui/controller/ServerScreenController.html" title="class in gui.controller">ServerScreenController</a>&nbsp;serverController)</pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>port</code> - - The port number to connect on</dd>
<dd><code>serverController</code> - - ServerGuiController to send information to the
                         server gui view.</dd>
<dd><code>dbConn</code> - - The Connection instance to the database.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="handleMessageFromClient-java.lang.Object-ocsf.ConnectionToClient-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMessageFromClient</h4>
<pre>protected&nbsp;void&nbsp;handleMessageFromClient(java.lang.Object&nbsp;msg,
                                       <a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client)</pre>
<div class="block">This method handle the message from client and sends them to the correct
 method according to the sent Object instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../ocsf/AbstractServer.html#handleMessageFromClient-java.lang.Object-ocsf.ConnectionToClient-">handleMessageFromClient</a></code>&nbsp;in class&nbsp;<code><a href="../ocsf/AbstractServer.html" title="class in ocsf">AbstractServer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - - The Object instance the client sent to the server.</dd>
<dd><code>client</code> - - The ConnectionToClient instance which include the details of
               the client in order to be able send him back answer.</dd>
</dl>
</li>
</ul>
<a name="handleUserLogoutFromApplication-java.lang.Object-ocsf.ConnectionToClient-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleUserLogoutFromApplication</h4>
<pre>private&nbsp;void&nbsp;handleUserLogoutFromApplication(java.lang.Object&nbsp;user,
                                             <a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client,
                                             java.lang.String&nbsp;clientIp)</pre>
<div class="block">Handles the logout process for a user from the application. This method identifies the user type, constructs
 an appropriate user ID based on the instance type (Visitor or User), and logs the logout request and completion
 in the server's log console. It removes the client's connection from the server's list of active connections
 and sends a logout success response to the client. In case of an IOException during the communication process,
 it logs the error details.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - The user object attempting to logout, which can be an instance of Visitor or User.</dd>
<dd><code>client</code> - The connection to the client that is requesting the logout.</dd>
<dd><code>clientIp</code> - The IP address of the client requesting the logout, used for logging purposes.</dd>
</dl>
</li>
</ul>
<a name="handleDisconnectMsgFromClient-ocsf.ConnectionToClient-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleDisconnectMsgFromClient</h4>
<pre>private&nbsp;void&nbsp;handleDisconnectMsgFromClient(<a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client)</pre>
<div class="block">This method handle a specific String message from client for now relevant
 only for message when client disconnecting the server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - - The string message the client sent to the server.</dd>
<dd><code>client</code> - - The ConnectionToClient instance which include the details of
               the client in order to be able send him back answer.</dd>
</dl>
</li>
</ul>
<a name="serverStarted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverStarted</h4>
<pre>protected&nbsp;void&nbsp;serverStarted()</pre>
<div class="block">This method write to log screen the server has been started.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../ocsf/AbstractServer.html#serverStarted--">serverStarted</a></code>&nbsp;in class&nbsp;<code><a href="../ocsf/AbstractServer.html" title="class in ocsf">AbstractServer</a></code></dd>
</dl>
</li>
</ul>
<a name="getServerIpAddress--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerIpAddress</h4>
<pre>private&nbsp;java.lang.String&nbsp;getServerIpAddress()</pre>
<div class="block">The method enumerate through the network interface eliminate local host and
 virtual machines to return the right IP;</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a String containing the correct IP</dd>
</dl>
</li>
</ul>
<a name="serverStopped--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverStopped</h4>
<pre>protected&nbsp;void&nbsp;serverStopped()</pre>
<div class="block">This method write to log screen the server has been stopped.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../ocsf/AbstractServer.html#serverStopped--">serverStopped</a></code>&nbsp;in class&nbsp;<code><a href="../ocsf/AbstractServer.html" title="class in ocsf">AbstractServer</a></code></dd>
</dl>
</li>
</ul>
<a name="serverClosed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverClosed</h4>
<pre>protected&nbsp;void&nbsp;serverClosed()</pre>
<div class="block">This method write to log screen the server has been stopped.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../ocsf/AbstractServer.html#serverClosed--">serverClosed</a></code>&nbsp;in class&nbsp;<code><a href="../ocsf/AbstractServer.html" title="class in ocsf">AbstractServer</a></code></dd>
</dl>
</li>
</ul>
<a name="clientConnected-ocsf.ConnectionToClient-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientConnected</h4>
<pre>protected&nbsp;void&nbsp;clientConnected(<a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client)</pre>
<div class="block">This method called when new client connect to the server. add the client to
 the server table view and write to log.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../ocsf/AbstractServer.html#clientConnected-ocsf.ConnectionToClient-">clientConnected</a></code>&nbsp;in class&nbsp;<code><a href="../ocsf/AbstractServer.html" title="class in ocsf">AbstractServer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - - The ConnectionToClient instance which include the details of
               the client in order to be able send him back answer.</dd>
</dl>
</li>
</ul>
<a name="clientDisconnected-ocsf.ConnectionToClient-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientDisconnected</h4>
<pre>protected&nbsp;void&nbsp;clientDisconnected(<a href="../ocsf/ConnectionToClient.html" title="class in ocsf">ConnectionToClient</a>&nbsp;client)</pre>
<div class="block">This method called when a client disconnected from the server. remove the
 client from the server's table view and write to log.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../ocsf/AbstractServer.html#clientDisconnected-ocsf.ConnectionToClient-">clientDisconnected</a></code>&nbsp;in class&nbsp;<code><a href="../ocsf/AbstractServer.html" title="class in ocsf">AbstractServer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - - The ConnectionToClient instance which include the details of
               the client in order to be able send him back answer.</dd>
</dl>
</li>
</ul>
<a name="stopServer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopServer</h4>
<pre>public static&nbsp;void&nbsp;stopServer()</pre>
<div class="block">This method stop the server to listen on a specific port and close the
 server.</div>
</li>
</ul>
<a name="clearImportedData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearImportedData</h4>
<pre>private static&nbsp;void&nbsp;clearImportedData()</pre>
<div class="block">Clears all imported data from the 'users' table in the database. This method establishes a connection to the
 database, executes a TRUNCATE TABLE SQL statement to remove all data from the 'users' table, and logs the
 operation's success. If a SQLException occurs during the operation, it logs the exception's message using
 the server controller's logging mechanism on the JavaFX Application thread.</div>
</li>
</ul>
<a name="importUsersData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importUsersData</h4>
<pre>public static&nbsp;boolean&nbsp;importUsersData()</pre>
<div class="block">Imports user data from a CSV file into the 'users' table in the database. This method constructs a SQL query
 for loading data from a predefined CSV file path into the database, including setting specific fields, handling
 data enclosed in quotes, and processing line terminators. If the 'ParkId' field is empty, it is set to NULL.
 Upon successful execution, it logs a success message and returns <code>true</code>. If any exception occurs during
 the process, it prints the stack trace and returns <code>false</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the data import is successful, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="closeAllThreads--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAllThreads</h4>
<pre>private static&nbsp;void&nbsp;closeAllThreads()</pre>
<div class="block">Gracefully shuts down all active background threads managed by the application. This method attempts to interrupt
 three specific threads - <code>sendNotifications24HoursBefore</code>, <code>cancelOrdersNotConfirmedWithin2Hours</code>, and
 <code>cancelTimePassedWaitingListOrders</code> - if they are currently alive. It then waits for each of these threads to
 terminate by calling the <code>join</code> method on them. If the current thread is interrupted while waiting for these
 threads to finish, it restores the interrupted status by calling <code>Thread.currentThread().interrupt()</code>.
 Note: The commented-out thread variables <code>sendNotifications24HoursBefore</code> and
 <code>cancelOrdersNotConfirmedWithin2Hours</code> should be declared and initialized elsewhere in the application for
 this method to function as intended.</div>
</li>
</ul>
<a name="startServer-jdbc.DBConnectionDetails-java.lang.Integer-gui.controller.ServerScreenController-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startServer</h4>
<pre>public static&nbsp;void&nbsp;startServer(<a href="../jdbc/DBConnectionDetails.html" title="class in jdbc">DBConnectionDetails</a>&nbsp;db,
                               java.lang.Integer&nbsp;port,
                               <a href="../gui/controller/ServerScreenController.html" title="class in gui.controller">ServerScreenController</a>&nbsp;serverController)</pre>
<div class="block">This method start the server to listen on a specific port and connect to
 database via database controller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - - The DBConnectionDetails entity which contains all
                         required data to connect the database.</dd>
<dd><code>port</code> - - The port number to connect on</dd>
<dd><code>serverController</code> - - ServerGuiController to send information to the
                         server gui view.</dd>
</dl>
</li>
</ul>
<a name="initializeThreadsAndStartRun--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initializeThreadsAndStartRun</h4>
<pre>private&nbsp;void&nbsp;initializeThreadsAndStartRun()</pre>
<div class="block">Initializes and starts the background threads responsible for sending notifications, cancelling unconfirmed orders,
 and managing waiting list orders based on specific time criteria. This method first ensures any previously running
 instances of these threads are interrupted and terminated before starting new ones. Each thread performs its
 designated task in a loop until interrupted:
 
 1. <code>sendNotifications24HoursBefore</code> sends notifications for orders 24 hours before their scheduled time.
 2. <code>cancelOrdersNotConfirmedWithin2Hours</code> cancels orders not confirmed within 2 hours of notification.
 3. <code>cancelTimePassedWaitingListOrders</code> manages waiting list orders, marking irrelevant ones based on the
 current time.
 
 If any thread is interrupted during execution, it logs a message to the server console and breaks its execution loop.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GoNatureServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../server/ServerApplication.html" title="class in server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?server/GoNatureServer.html" target="_top">Frames</a></li>
<li><a href="GoNatureServer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
